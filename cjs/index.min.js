!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PropsValidator=e():t.PropsValidator=e()}(self,(function(){return(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{RunEnv:()=>rt,default:()=>ft});const n=require("prop-types");var r=t.n(n),o=function(){return!0};function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],c=!0,u=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{c||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function y(t){var e=m();return function(){var n,r=g(t);if(e){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return b(t)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){var e="function"==typeof Map?new Map:void 0;return v=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return d(t,arguments,g(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)},v(t)}function d(t,e,n){return d=m()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&h(o,n.prototype),o},d.apply(null,arguments)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=function(t){p(n,t);var e=y(n);function n(t,r,o,i){var c;return a(this,n),w(b(c=e.call(this,t)),"struct",{propsName:"",value:void 0,expectedType:"",preciseType:""}),w(b(c),"name","ValidatorError"),w(b(c),"propsName",void 0),w(b(c),"info",void 0),w(b(c),"value",void 0),c.propsName=r,c.info=o,c.value=i,c}return l(n,[{key:"toString",value:function(){var t;if(this.info instanceof S||this.info instanceof n)return this.struct={propsName:this.info.propsName,value:"",expectedType:"",preciseType:""},this.info.toString();if(this.info instanceof Error){var e=this.info.message.match(/(?<=(`))([\[\]\w<>\d\.]+)(?=(`))/g);if(!e)return this.info.message;var r=c(e,4),o=r[0],i=r[1];t={propsName:o,value:r[2],expectedType:r[3],preciseType:i}}else t=this.info;this.struct=t;var u=t,a=u.propsName,f=u.value,l=u.expectedType,p=u.preciseType;return"属性:[".concat(a,"]的值等于['").concat(f,"'],期待为 ").concat(l," 类型/值，实际类型/值： ").concat(p," .")}}]),n}(v(Error)),S=function(t){p(n,t);var e=y(n);function n(t,r,o){var i;return a(this,n),w(b(i=e.call(this,t)),"name","ObjectValidatorError"),w(b(i),"source",[]),w(b(i),"propsName",void 0),i.source=o,i.propsName=r,i}return l(n,[{key:"toString",value:function(){var t={};return this.source.forEach((function(e){var n=e.toString(),r=e.struct.propsName;t[r]=n})),t}}]),n}(v(Error));function j(t){var e={};return Object.keys(t).forEach((function(n){var r=t[n];!1!=!!r&&(r instanceof S||(r=r instanceof O?r:new O("".concat(n," 验证失败"),n,r)),e[n]=r.toString())})),JSON.stringify(e,null,2)}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}var P=Function.call.bind(Object.prototype.toString),E="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",A=Symbol.for("validatorDisplayName"),N=Function.call.bind(Object.prototype.hasOwnProperty);function T(t){if(null==t)return""+t;var e=_(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function _(t){var e=x(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||!!e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function D(t){function e(e,n,r,o,i,c){return c=c||r,null==n[r]?e?R(r,n[r],"非空","null/undefined"):null:t(n,r,o,i,c)}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function R(t,e,n,r){return new O("".concat(t," 验证失败"),t,{propsName:t,value:e,expectedType:n,preciseType:r})}function I(t){return D((function(e,n){var r=e[n];if(P(r)!==t){var o=T(r);return R(n,r,t,o)}return null}))}function F(t,e){if(o())return null;var n={},r=null;for(var i in t)if("__tag"!==i&&N(t,i))try{if("function"!=typeof t[i]){var c=Error("验证函数类型错误");throw c.name="Invariant Violation",c}r=t[i](e,i,"","",null,E),n[i]=!1==!!r||r instanceof S?r:new O("".concat(i," 验证失败"),i,r,e[i])}catch(t){n=t;break}return Object.values(n).filter((function(t){return!0==!!t})).length>0?new Error(j(n)):null}function L(t,e,n){!o()&&console.log("Validator Error。 [typeSpec.__tag]:[".concat(e.__tag,"] =>"),n)}function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function V(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],c=!0,u=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{c||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var B={extends:[],getTypeSpec:function(){return"{}"},extendsFactory:function(){}},J=function(t){var e=V(t.match(/\[object (\w+)\]/)||[],2);e[0];return e[1]},$=function(t,e){return["".concat(e,".").concat(t),"".concat(e,".").concat(t,".isRequired")]};var W,H=(W=function(t){var e=Date.parse(t);return"number"==typeof e&&!isNaN(e)&&e>0},D((function(t,e){var n=t[e];if(W&&!W(n)){var r=T(n);return new Error("".concat(JSON.stringify(t),"-[").concat(e,"]-[").concat(n,"] is type ").concat(r," , but expected value is test by Date.parse"))}return null})));const Y={buffer:I(P(new ArrayBuffer(0))),dataview:I(P(new DataView(new ArrayBuffer(0)))),uint8:I(P(new Uint8Array)),uint16:I(P(new Uint16Array)),uint32:I(P(new Uint32Array)),int8:I(P(new Int8Array)),int16:I(P(new Int16Array)),int32:I(P(new Int32Array)),float32:I(P(new Float32Array)),float64:I(P(new Float64Array)),uint8clamped:I(P(new Uint8ClampedArray))};function z(t){return function(t){function e(e,n,r){var o=n[r];return null==o?t(n,r):e?new Error("The `".concat(r,"` is null/Undefined as required , but its value is ").concat(P(o))):null}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}((function(e,n){var r=e[n];if(P(r)!==t){var o=T(r);return new Error("Invalid ".concat(n," value is ").concat(r," ,but expected ").concat(t," but get ").concat(o))}return null}))}const G={null:z(P(null)),undefined:z(P(void 0))},K={promise:I(P(new Promise((function(){}))))};function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(n),!0).forEach((function(e){Z(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const tt=X(X(X({dateString:(et=/(\d){4}?-(\d){2}?-(\d){2}? (\d){2}?:(\d){2}?:(\d){2}?/,D((function(t,e){var n=t[e];if(et&&!1===et.test(n)){var r=T(n);return new Error("".concat(JSON.stringify(t),"-[").concat(e,"]-[").concat(n,"] is type ").concat(r," , but expected value is test(/^").concat(et,"$/)"))}return null}))),date:H},Y),G),K);var et,nt,rt;function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}(nt=(window||void 0).Promise.prototype).validator||(nt.validator=function(t,e){return o()?this.then((function(t){return t})):this.then((function(n){var r=e?e(n):n,o=F(t,r);return"object"===ot(n)&&null!==n&&Object.defineProperty(n,"__props__error",{configurable:!1,enumerable:!1,get:function(){return o}}),o&&L&&L(0,t,o),n}))}),function(t){t.dev="development",t.prod="production"}(rt||(rt={}));var ct,ut,at={env:rt.dev};ct=[r(),tt,{checkPropTypes:F,boolean:r().bool,function:r().func,shape:function(t){return D((function(e,n,r,o,i){var c=[],u=e[n],a=_(u);if("object"!==a)return R(n,u,"object",a);for(var f in t){var l=t[f];if(l){var p=l(u,f,r,o,i+"."+f,E);p&&c.push(new O("".concat(i," 验证失败"),i,p,u))}}return c.length>0?new S("验证错误：".concat(i),i,c):null}))},arrayOf:function(t){return D((function(e,n,r,o,i){var c=[],u=e[n];if(!Array.isArray(u))return R(n,u,"[object Array]",_(u));for(var a=0;a<u.length;a++){var f=t(u,a,r,o,i+"["+a+"]",E);f&&c.push(new O("".concat(i," 验证失败"),i,f,u))}return null}))}},{extendsValidator:function(t,e){at[t]=D(e)},util:{createChainableTypeChecker:D,createExpectedTypeChecker:I,validatorLog:L},apiUtil:{WrapperApi:function(t,e){return o(),function t(e,n){return Object.keys(e).forEach((function(r){var o=e[r];if("object"===it(o)){var i=n&&n[r];"object"!==it(i)&&(i={}),e[r]=t(o,i)}})),new Proxy(e,{get:function(t,e){var r=t[e];if("function"==typeof r){var o=n&&n[e]||{};return function(){return r.apply(void 0,arguments).validator(o.spec,o.handler)}}return t[e]}})}(t,e)}},setEnv:function(t){at.env=t}}],Array.isArray(ct)||(ct=[ct]),ct.forEach((function(t){return Object.getOwnPropertyNames(t).forEach((function(e){var n=t[e];n[A]=e,at[e]=n}))})),ut=at,o=function(){return"production"===ut.env},function(t){if(!o()){var e={maxDepth:3,topName:"WsPropsType"},n=[null,void 0,1,"",!1,function(){},Symbol.for(""),new Date,/\w/,Promise.resolve()],r=[[],{}],i=[],c={option:e},u=function(t){return(t=t.toLocaleLowerCase())===J(P({})).toLocaleLowerCase()&&(t="shape($)"),$(t,c.option.topName)};n.forEach((function(t){var e=P(t),n=J(e);c["exec".concat(n)]=function(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(null===(r=i.find((function(t){return t.type===e})))||void 0===r?void 0:r.validator[Number(o)])||""}})),c.execAny=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(null===(n=i.find((function(t){return t.type===P(null)})))||void 0===n?void 0:n.validator[Number(r)])||""},c.execUnknown=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=P(n),u=i.find((function(t){return t.type===o}));if(!1==!!u){var a=J(o);if(a=a.toLocaleLowerCase(),!0==!!t[a])return $(a,c.option.topName)[Number(r)]}return c.execAny(e,n,r)},c.execObject=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,u=i.find((function(t){return t.type===P({})}))||{};if(0===Object.keys(e).length||r===o.maxDepth)return $(u.minType.toLocaleLowerCase(),c.option.topName)[Number(n)];var a={};if(Object.keys(e).forEach((function(i){var c=e[i],u=B.switchExec(c,i,e);u&&U(u)===("undefined"==typeof Function?"undefined":U(Function))&&(a[i]=u(t,c,n,r+1,o))})),0===r)return a;var f=u.validator,l=f[Number(n)];return l.replace("$",JSON.stringify(a))},c.execArray=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,c=i.find((function(t){return t.type===P([])}))||{};if(0===e.length||r===o.maxDepth)return c.validator[Number(n)];var u=B.switchExec(e[0]),a=c.validator[Number(!1)],f="".concat(a,"Of(").concat(u(t,e[0],!1,r+1,o),")").concat(n?".isRequired":"");return f},B.switchExec=function(t,e,n){var r=i.find((function(e){return e.type===P(t)})),o=null,u=r?"exec".concat(r.minType):null;if(u&&!0==!!c[u])o=c[u];else{var a=B.extends.find((function(e){return e.test(t)}));if(a){var f=a.choice,l=a.execMap,p=f(t,e,n);o=l[p]||c[p]}}return o||c.execAny},B.installType=function(t){var e;e=[].concat(n,r),i=e.map((function(t){var e=P(t),n=J(e);return{type:e,minType:n,validator:u(n)}}))},B.extendsFactory=function(t){t.test&&"function"==typeof t.test&&t.choice&&"function"==typeof t.choice&&t.execMap&&B.extends.unshift(t)},B.__getID=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=t.length,n="",r=0;r<10;r++)n+=t.charAt(Math.floor(Math.random()*e));return n},B.getTypeSpec=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;r=C(C({},e),r),c.option=r,B.installType();var o=B.switchExec(t)("",t,n,0,r);return"object"===U(o)&&(o.__tag="'".concat(B.__getID(),"'")),JSON.stringify(o,null,2).replace(/\n/g,"").replace(/"/g,"").replace(/\\/g,"")},(a=B).extendsFactory&&a.extendsFactory({test:function(t){var e=P(new ArrayBuffer(0)),n=J(e);return!(!t||!t.buffer||Object.prototype.toString.call(t.buffer)!==e)||!(!t||!t.constructor||t.constructor.name!==n)},choice:function(t,e,n){return"execTypedArray"},execMap:{execTypedArray:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>4?arguments[4]:void 0,o=P(e),i=J(o).toLocaleLowerCase().replace("array","");return"".concat($(i,r.topName)[Number(n)])}}}),function(t){t.extendsFactory&&t.extendsFactory({test:function(t){return U(t)===U(1n)},choice:function(t,e,n){return"bigint"},execMap:{bigint:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>4?arguments[4]:void 0,o=P(e),i=J(o).toLocaleLowerCase();return"".concat($(i,r.topName)[Number(n)])}}})}(B)}var a;t.PropsPlugin=B}(at);const ft=at;return e})()}));